# ุฏููู ุงุฎุชุจุงุฑ ุงูุชุญุณููุงุช

## โ ููููุฉ ุงูุชุญูู ูู ุฃู ุงูุจุฑูุงูุฌ ูุนูู ุจุดูู ุตุญูุญ

### 1. ููุญุฉ ุงูุชุญูู (Dashboard)

ุงูุชุญ ููุญุฉ ุงูุชุญูู ูุชุญูู ูู:

#### โ ุฑุณู ุจูุงูู ุงูุญุถูุฑ ุงูุฃุณุจูุนู
- **ูุจู**: ุฃุฑูุงู ุซุงุจุชุฉ: 65, 80, 45, 90, 75, 50, 85
- **ุจุนุฏ**: ุฃุฑูุงู ุญููููุฉ ูู ุณุฌูุงุช ุงูุญุถูุฑ ุงููุนููุฉ

#### โ ุชูุฒูุน ุงูููุธููู ุญุณุจ ุงูุฃูุณุงู
- **ูุจู**: ูุณุจ ุซุงุจุชุฉ: ูุจูุนุงุช 35%, ุชูููุฉ 25%, ููุงุฑุฏ ุจุดุฑูุฉ 25%, ุนูููุงุช 15%
- **ุจุนุฏ**: ุชูุฒูุน ุญูููู ุญุณุจ ุฃูุณุงู ุงูููุธููู ุงููุนูููู (ูุซู: ุฅุฐุง ูุฏูู 50 ููุธู ูู ITุ ุณูุธูุฑ 50)

#### โ ุงูุจูุงูุงุช ุงููุงููุฉ ุงูุดูุฑูุฉ
- **ูุจู**: ุดููุฑ ุซุงุจุชุฉ ุจุฃุฑูุงู ุนุดูุงุฆูุฉ
- **ุจุนุฏ**: ุจูุงูุงุช ุญููููุฉ ูู ุฏูุนุงุช ุงูุฑูุงุชุจ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

### 2. ุงูุชูุงุฑูุฑ (Reports)

#### ุชูุฑูุฑ ุงูุญุถูุฑ (Attendance)
โ ุงูุขู ูุนุฑุถ ุฃุฑูุงู ุญููููุฉ ูู ุฌุฏูู attendance_logs
โ ุจุฏูุงู ูู ุฃุฑูุงู ูุฒููุฉ

#### ุชูุฑูุฑ ุงูุฃุฏุงุก (Performance)
โ ุฃุฏุงุก ุงูุฃูุณุงู ูุญุณูุจ ูู ุนุฏุฏ ุงูููุธููู ุงููุนูููู
โ ูุงุฆูุฉ ุฃูุถู ุงูููุธููู ูู ุงูููุธููู ุงููุนูููู

#### ุชูุฑูุฑ ุงููุฑุฏูุงุช (Shifts)
โ ุนุฏุฏ ุงูููุธููู ุงููุนูููู ูู ูุฑุฏูุงุช ุญูููู
โ ุงูููุธููู ุจุฏูู ูุฑุฏูุฉ ูุนุฑูุถ ุจุดูู ุตุญูุญ

---

### 3. ุฌุณุฑ ุงูุฑูุงุชุจ (Payroll Bridge)

#### ุนุฏุฏ ุงูููุธููู ูู ูู ุฏูุนุฉ
- **ูุจู**: ุฏุงุฆูุงู 0 (ูุฒูู)
- **ุจุนุฏ**: โ ุนุฏุฏ ุญูููู ูู ุฌุฏูู payroll_records

---

## ๐ ุงุฎุชุจุงุฑ ุณุฑูุน

### ุงูุฎุทูุฉ 1: ุชุดุบูู ุงูุชุทุจูู
```bash
npm start
```

### ุงูุฎุทูุฉ 2: ุงูุชุญ ุงููุชุตูุญ ููู Console (F12)
ุณุชุฑู ุฑุณุงุฆู ูุซู:
```
โ Fetching attendance stats...
โ Fetching financial data...
โ Department distribution calculated
```

### ุงูุฎุทูุฉ 3: ุชุญูู ูู ูู ุตูุญุฉ

#### Dashboard
```
ุนุฏุฏ ุงูููุธููู: ูุฌุจ ุฃู ูููู 185 (ุฃู ุฑูู ุงูููุธููู ุงููุนูู)
ุชูุฒูุน ุงูุฃูุณุงู: ูุฌุจ ุฃู ูุฎุชูู ุญุณุจ ุฃูุณุงู ููุธููู ุงููุนููุฉ
```

#### Reports
```
ุชูุฑูุฑ ุงูุญุถูุฑ: ุฃุฑูุงู ุชุชุบูุฑ ุญุณุจ ุงูุณุฌูุงุช ุงููุนููุฉ
ุชูุฑูุฑ ุงูุฃุฏุงุก: ุฃูุณุงู ุญููููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```

#### Payroll Bridge
```
ุนุฏุฏ ุงูููุธููู ูู ูู ุฏูุนุฉ: ุฑูู > 0 ูููุณ ุตูุฑ
```

---

## ๐ ุงูุจูุงูุงุช ุงูุชู ูุฌุจ ุฃู ุชุธูุฑ

### ุงูุฏูู 185 ููุธู ูู:
- โ Dashboard โ ุนุฏุงุฏ ุงูููุธููู = 185
- โ Dashboard โ ุฑุณู ุจูุงูู ุงูุฃูุณุงู
- โ Reports โ ุฌููุน ุงูุชูุงุฑูุฑ
- โ Payroll Bridge โ ุนุฏุฏ ุงูููุธููู ูู ูู ุฏูุนุฉ

### ุนุฏู ุงูุธููุฑ:
- โ ููุธููู ูููููู (ุฃุญูุฏ ุงูุดูุงููุ ุณุงุฑุฉ ููุฒูุ ุงูุฎ)
- โ ุฃุฑูุงู ุซุงุจุชุฉ ูู ุงูุฑุณูู ุงูุจูุงููุฉ
- โ ุฏูุนุงุช ุจุฏูู ููุธููู

---

## ๐ ูู ุญุงูุฉ ููุงุฌูุฉ ูุดุงูู

### ุฅุฐุง ูุงูุช ุงูุฃุฑูุงู ูุง ุชุฒุงู ุชุธูุฑ ุจุดูู ูุฒูู:

1. ุงูุชุญ `src/Dashboard.tsx` - ุชุญูู ูู:
   ```tsx
   const deptDistribution = useMemo(() => {
     const distribution: Record<string, number> = {};
     employees.forEach(emp => {
       const dept = emp.dep || 'ุบูุฑ ูุญุฏุฏ';
       distribution[dept] = (distribution[dept] || 0) + 1;
     });
     return distribution;
   }, [employees]);
   ```

2. ุงูุชุญ `src/ReportsView.tsx` - ุชุญูู ูู:
   ```tsx
   useEffect(() => {
     const fetchAttendanceData = async () => {
       const { data } = await supabase
         .from('attendance_logs')
         .select('date, status')
         // ...
     };
     fetchAttendanceData();
   }, []);
   ```

3. ุงูุชุญ `src/PayrollBridgeView.tsx` - ุชุญูู ูู:
   ```tsx
   const { count } = await supabase
     .from('payroll_records')
     .select('*', { count: 'exact', head: true })
     .eq('batch_id', b.id);
   ```

### ุฅุฐุง ูุงูุช ููุงู ุฃุฎุทุงุก ูู Console:

```
โ Error: column "X" does not exist
โ ุชุญูู ูู ุฃู ุงูุฃุนูุฏุฉ ููุฌูุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

โ Error: Supabase not connected
โ ุชุญูู ูู ุฃู supabaseClient.ts ุตุญูุญ

โ Error: RLS policy denied
โ ุชุญูู ูู ุตูุงุญูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
```

---

## ๐ฏ ุงููุฏู ุงููุญูู

ุงูุจุฑูุงูุฌ ุงูุขู **ูุนูู ุจุดูู ุญูููู ูุงูู ูุดุงูู** ูุน:
- โ 185 ููุธู ุญูููู
- โ ุจูุงูุงุช ุญููููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุฑุณูู ุจูุงููุฉ ุญููููุฉ ูููุณุช ููููุฉ
- โ ุชุญุฏูุซ ุชููุงุฆู ุนูุฏ ุชุบููุฑ ุงูุจูุงูุงุช

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ูุง ุชูุณู ุชุญุฏูุซ ุงูุจูุงูุงุช**: ุจุนุฏ ุฅุถุงูุฉ ููุธููู ุฌุฏุฏุ ูุฏ ุชุญุชุงุฌ ูุชุญุฏูุซ ุงูุตูุญุฉ
2. **ูุงุนุฏุฉ ุงูุจูุงูุงุช**: ุชุฃูุฏ ุฃู ุฌููุน ุฌุฏุงูู ุงูุจูุงูุงุช ูุงูุฃุนูุฏุฉ ููุฌูุฏุฉ
3. **ุงูุฃุฏุงุก**: ูุน 185 ููุธูุ ูุฏ ุชุญุชุงุฌ ูุชุญุณูู ุงูุงุณุชุนูุงูุงุช ุงููุจูุฑุฉ ูุงุญูุงู

---

ุฌุงูุฒ ููุงุฎุชุจุงุฑ! ๐
